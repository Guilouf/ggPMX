---
title: "ggPMX: all plots"
author: "TODO"
output: pdf_document
params:
  ctr: ""
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,message=FALSE)
library(ggPMX)
```




```{r init_controller}
ctr <- params$ctr
if(ctr=="") ctr <- theophylline()

```



```{r all_plots,out.width='8cm', out.height='8cm', fig.show='hold'}
pmx_plots <- ctr %>% plot_names
pmx_function_plots <- sprintf("pmx_plot_%s",pmx_plots)

res <- lapply(
  pmx_function_plots,
  function(fun){
    is_function <- exists(fun,where = 'package:ggPMX',mode="function")
    if(is_function)
      do.call(fun,list(ctr=ctr))
    else{
      if(fun=="pmx_plot_indiv")
        ctr %>% pmx_plot_individual(1)
    }
  })

for (x in seq_along(res))print(res[[x]])

```
