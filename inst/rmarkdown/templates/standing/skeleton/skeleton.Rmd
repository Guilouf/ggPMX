---
title: "ggPMX standing report"
author: "TODO"
output: 
  pdf_document:
    toc: true
    includes:
        in_header: header.tex 
  word_document:
    toc: true
params:
  ctr: ""
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,message=FALSE)
cats <- ctr %>% get_cats

```


# Key model diagnostics

```{r npde_pred}
ctr %>% pmx_plot_npde_pred
```

```{r npde_time}
ctr %>% pmx_plot_npde_time
```

```{r iwres_ipred}
ctr %>% pmx_plot_iwres_ipred
```

```{r iwres_time}
ctr %>% pmx_plot_iwres_time
```

```{r eta_box}
ctr %>% pmx_plot_eta_box
```

```{r dv_pred}
ctr %>% pmx_plot_dv_pred
```

```{r dv_ipred}
ctr %>% pmx_plot_dv_pred
```

```{r dv_abs_iwres_ipred}
ctr %>% pmx_plot_abs_iwres_ipred
```
\newpage
# Supplmentary diagnostics

## Distribution of residuals

```{r iwres_qq}
ctr %>% pmx_plot_iwres_qq
ctr %>% pmx_plot_npde_qq
```

## Distribution of inter-individual random effects

```{r eta_qq}
ctr %>% pmx_plot_eta_qq
```
\blandscape
```{r eta_matrix,out.width='1\\linewidth', fig.width=8, fig.height=6}
ctr %>% pmx_plot_eta_matrix
```
\elandscape

```{r eta_cats}
ctr %>% pmx_plot_eta_cats
```

```{r eta_conts}
ctr %>%  pmx_plot_eta_conts
```


\newpage
# Individual plots


```{r indiv,message=FALSE,fig.align="center",fig.height=10, fig.width=10}
 ctr %>% pmx_plot_individual
```


# Stratified key diagnostics 

```{r npde_time_strats}

ctr %>% pmx_plot_cats("npde_time")
```


```{r iwres_time_strats}
ctr %>% pmx_plot_cats("iwres_time")


```
